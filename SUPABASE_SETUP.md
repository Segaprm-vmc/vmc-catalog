# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è VMC Catalog

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase. –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã.

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç VMC: `https://supabase.com/dashboard/project/nqiqdnqmzuqcumxvjveg`
3. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase-migration.sql`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç VMC Catalog
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Ctrl+Shift+A)
3. –ù–∞–∂–º–∏—Ç–µ "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase"
4. –ù–∞–∂–º–∏—Ç–µ "üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ"

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Credentials (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
- **URL**: `https://nqiqdnqmzuqcumxvjveg.supabase.co`
- **Anon Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

### –¢–∞–±–ª–∏—Ü–∞ `vmc_models`

```sql
CREATE TABLE vmc_models (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT NOT NULL,
  images TEXT[] NOT NULL DEFAULT '{}',
  specifications JSONB NOT NULL DEFAULT '{}',
  yandex_disk_link TEXT,
  video_frame TEXT,
  "order" INTEGER DEFAULT 999,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## –§—É–Ω–∫—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π updated_at** - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- ‚úÖ **–ò–Ω–¥–µ–∫—Å—ã** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ order, created_at, name
- ‚úÖ **Row Level Security** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞

### API –º–µ—Ç–æ–¥—ã
- `getAllModels()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏
- `createModel()` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å
- `updateModel()` - –æ–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å
- `deleteModel()` - —É–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å
- `getModelById()` - –ø–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –ø–æ ID
- `searchModels()` - –ø–æ–∏—Å–∫ –º–æ–¥–µ–ª–µ–π
- `reorderModels()` - –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
- `moveModel()` - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å JSON

–î–∞–Ω–Ω—ã–µ –∏–∑ `models.json` —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ SQL —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:

1. ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π `models.json` —É–¥–∞–ª–µ–Ω
2. ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Supabase
3. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Supabase
4. ‚úÖ Fallback –Ω–∞ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Supabase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω SQL —Å–∫—Ä–∏–ø—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "–î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è"
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console
2. –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "‚ùå"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `vmc_models` —Å–æ–∑–¥–∞–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "Real-time –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: `ALTER PUBLICATION supabase_realtime ADD TABLE vmc_models;`
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- `üöÄ –ò—Å–ø–æ–ª—å–∑—É–µ–º Supabase API` - API –≤—ã–±—Ä–∞–Ω
- `‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω —É—Å–ø–µ—à–Ω–æ` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OK
- `üìÅ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –º–æ–¥–µ–ª–µ–π –∏–∑ Supabase: X` - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- `üîÑ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π` - –ø–æ–ª—É—á–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π
SELECT COUNT(*) FROM vmc_models;

-- –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
SELECT id, name, "order" FROM vmc_models ORDER BY "order";

-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
SELECT id, name, updated_at FROM vmc_models ORDER BY updated_at DESC;
``` 